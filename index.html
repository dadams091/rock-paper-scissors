<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
    // Generate random number between 0 and 1 (exclusive)
    // the number will determine the Computer's choice of rock/paper/scissors
    // 33% chance
    function getComputerChoice()
    {
        const random = Math.random();
        if (random >= 0 && random < 1/3)
        { 
            return "rock";
        }
        else if (random >= 1/3 && random < 2/3)
        {
            return "paper";
        }
        else (random >= 2/3 && random < 1)
        {
            return "scissors";
        }
    }

    // Player enters their choice of rock/paper/scissors into prompt
    // input is case insensitive
    function getPlayerChoice()
    {
        const choice = prompt("Enter your choice: ");
        if (choice.toLowerCase() === "rock") {
            return "rock";
        }
        else if (choice.toLowerCase() === "paper") {
            return "paper";
        }
        else if (choice.toLowerCase() === "scissors") {
            return "scissors";
        }
        else {
            console.log("invalid choice... try again");
            return getPlayerChoice();
        }
    }

    // customizable number of rounds
    // tracks player and computer score
    function playGame(numberOfRounds) {

        let playerScore = 0;
        let computerScore = 0;

        // determines round outcome
        // if tied, play again
        function playRound(computerChoice, playerChoice) {
                console.log(`PLAYER CHOICE "${playerChoice}" vs. COMPUTER CHOICE "${computerChoice}"`);
                if (computerChoice === playerChoice) {
                    console.log("tie... continue round\n");
                    playRound(getComputerChoice(), getPlayerChoice());
                }
                else if ((computerChoice === "paper" && playerChoice === "rock") ||
                (computerChoice === "rock" && playerChoice === "scissors") ||
                (computerChoice === "scissors" && playerChoice === "paper")) {
                    computerScore++;
                    console.log("---computer wins---");
                }
                else {
                    playerScore++;
                    console.log("---player wins---");
                }
            }

        // for loop to run number of rounds based on argument 
        //     specification in fucntion call
        for (let i = 1; i < numberOfRounds + 1; i++) {
            console.log("Round: " + i);
            playRound(getComputerChoice(), getPlayerChoice());
            console.log("Player score: " + playerScore);
            console.log("Computer score: " + computerScore + "\n ");
        }

        // OUTCOME / winner determined after numberOfRounds is reached
        console.log("End of Game");
        (playerScore > computerScore) ? console.log("PLAYER WINS! CONGRATS!") :
        console.log("COMPUTER WINS! YOU SUCK!");
    }
    
    playGame(5);

    </script>
</body>
</html>